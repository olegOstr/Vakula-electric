function validateForm(e){let t=!0;return e.querySelectorAll("input, textarea").forEach((e=>{if(e.hasAttribute("required")&&!e.value.trim())t=!1,showError(e,"This field is required");else if("email"===e.type&&e.value){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)||(t=!1,showError(e,"Please enter a valid email address"))}})),t}function showError(e,t){const o=e.nextElementSibling?.classList.contains("error-message")?e.nextElementSibling:document.createElement("div");e.nextElementSibling?.classList.contains("error-message")||(o.classList.add("error-message"),e.parentNode.insertBefore(o,e.nextSibling)),o.textContent=t,e.classList.add("error"),e.addEventListener("input",(function t(){e.classList.remove("error"),o.remove(),e.removeEventListener("input",t)}))}function showNotification(e,t){const o=document.createElement("div");o.classList.add("notification",e),o.textContent=t,document.body.appendChild(o),setTimeout((()=>{o.classList.add("fade-out"),setTimeout((()=>o.remove()),300)}),3e3)}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll('input[type="tel"]').forEach((e=>{const t=IMask(e,{mask:"+1 (000) 000-0000",lazy:!1});e.placeholder="+1 (___) ___-____",e.addEventListener("focus",(()=>{e.value||(t.value="+1 ")})),e.addEventListener("blur",(()=>{"+1 "===e.value&&(t.value="")}))})),"undefined"!=typeof Fancybox&&Fancybox.bind("[data-fancybox]",{loop:!0,buttons:["zoom","slideShow","fullScreen","close"],animationEffect:"fade",transitionEffect:"fade",preventCaptionOverlap:!0,arrows:!0,infobar:!0,toolbar:!0,click:null,clickSlide:!1,mobile:{click:null,clickSlide:!1,dblclick:null,dblclickSlide:!1,swipe:"slide"}});const e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".nav-list"),o=document.querySelector(".header");e&&t&&(e.addEventListener("click",(()=>{const n="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!n),e.classList.toggle("active"),t.classList.toggle("active"),o.classList.toggle("menu-open")})),t.querySelectorAll("a").forEach((n=>{n.addEventListener("click",(()=>{e.classList.remove("active"),e.setAttribute("aria-expanded","false"),t.classList.remove("active"),o.classList.remove("menu-open")}))})),document.addEventListener("click",(n=>{n.target.closest(".nav-list")||n.target.closest(".mobile-menu-btn")||(e.classList.remove("active"),e.setAttribute("aria-expanded","false"),t.classList.remove("active"),o.classList.remove("menu-open"))})));const n=document.querySelector(".scroll-to-top");n&&(window.addEventListener("scroll",(()=>{window.pageYOffset>300?n.classList.add("visible"):n.classList.remove("visible")})),n.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".preloader");window.addEventListener("load",(()=>{setTimeout((()=>{e.classList.add("hidden")}),500)}))})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));if(t){const e=document.querySelector(".header").classList.contains("header-hidden")?0:80,o=t.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:o,behavior:"smooth"})}}))})),document.addEventListener("DOMContentLoaded",(()=>{emailjs.init("YOUR_PUBLIC_KEY")})),document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(async t=>{t.preventDefault();if(!validateForm(e))return;const o=new FormData(e),n=Object.fromEntries(o.entries());try{await emailjs.send("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",{from_name:n.name,from_email:n.email,message:n.message,phone:n.phone}),showNotification("success","Message sent successfully!"),e.reset()}catch(e){showNotification("error","An error occurred while sending the message.")}}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const o=e.target;o.src=o.dataset.src,o.removeAttribute("data-src"),t.unobserve(o)}}))}));e.forEach((e=>t.observe(e)))}));let lastScrollTop=0;const header=document.querySelector(".header"),heroH1=document.querySelector(".hero h1");window.addEventListener("scroll",(()=>{const e=window.pageYOffset||document.documentElement.scrollTop;e<(heroH1?heroH1.getBoundingClientRect().top+window.pageYOffset:0)?header.classList.remove("header-hidden"):(e>lastScrollTop?header.classList.add("header-hidden"):header.classList.remove("header-hidden"),lastScrollTop=e)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".show-more-btn"),t=document.querySelector(".services-grid");e&&t&&e.addEventListener("click",(()=>{t.classList.add("expanded"),e.style.display="none"}))}));